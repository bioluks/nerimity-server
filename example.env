# Nerimity Server Docker Configuration
# Copy this file to .env and adjust values for your environment.

# --- Application ---
APP_NAME=Nerimity
CLIENT_URL=http://localhost:3000
DEV_MODE=false
API_PORT=8080
WS_PORT=8081

# --- Database (PostgreSQL) ---
# These are used by the postgres container to set up the DB
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=nerimity

# The connection string for the App to connect to the DB
# In Docker, hostname is the service name 'postgres'
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# --- Redis ---
REDIS_HOST=redis
REDIS_PORT=6379

# --- Security Secrets (CHANGE THESE IN PRODUCTION!) ---
# You can generate strong secrets by running: openssl rand -base64 32
JWT_SECRET=change_this_secret
JWT_CONNECTIONS_SECRET=change_this_secret
JWT_WEBHOOK_SECRET=change_this_secret
NERIMITY_CDN_SECRET=change_this_secret
EXTERNAL_EMBED_SECRET=change_this_secret
CONNECTIONS_SECRET=thiskeymustbe32characterslong123

# --- Mailer (Optional) ---
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# --- Other Integrations ---

# [CRITICAL] Cloudflare Calls (Voice & Video)
# Required for Voice/Video capabilities. Without this, calls will likely fail over the internet.
# https://developers.cloudflare.com/calls/
CLOUDFLARE_CALLS_ID=
CLOUDFLARE_CALLS_TOKEN=

# [CRITICAL / OPTIONAL] Turnstile or Altcha (Registration Captcha)
# Turnstile is the default captcha system to prevent spam registrations.
# If you plan to implement and use Altcha instead, you can leave this empty.
# https://www.cloudflare.com/products/turnstile/
TURNSTILE_SECRET=

# [OPTIONAL] Google Login
# Allows users to sign up/login with their Google account.
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URL=

# [OPTIONAL] Tenor (GIFs)
# Powers the GIF picker in chat. API Key is free.
# https://tenor.com/developer/keyregistration
TENOR_API_KEY=
